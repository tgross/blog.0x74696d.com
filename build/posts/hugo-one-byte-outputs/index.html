<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>0x74696d | Hugo 1-byte outputs</title>
  <meta name="author" content="map[]" />
  <meta name="description" content="T-Minus 15.193792102158E&#43;9 years until the universe closes!" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="alternate" type="application/rss+xml" href="/rss.xml" />
  
  <link rel="stylesheet" href="/css/base.css" type="text/css" media="all" />
  <link rel="stylesheet" href="/fonts/ss-social.css" type="text/css" />

  <link rel="stylesheet" href="/css/pygments.css" type="text/css" />
</head>

<body>
  <div class="header">
    <div class="container">
      <section class="name">
        <a href="/"><b>0x74696d</b></a>
      </section>

      <ul class="menu">
        <li><a href="/">Posts</a></li>
        <li><a href="https://github.com/tgross?tab=repositories">Projects</a></li>
        <li><a href="/community/">Community</a></li>
        
      </ul>

    </div>
  </div>

<section class="container content">
  <h1>Hugo 1-byte outputs</h1>
  <section class="byline">January 27, 2021</section>
  <p>A particularly annoying bug in Hugo that I've been running into is
that it will output 1-byte files for the index and other pages. This
is not sparking joy.</p>
<p>What's particularly bad about it is that it's not at all
consistent. Any given build will just randomly decide that the front
page or the RSS feed should be empty. So every time I pushed to
Netlify it'd be a crap shoot as to whether or not the whole site would
break. While I try to figure this out I've been building locally,
checking manually with <code>find -size 1c</code>, and then pushing the whole
build output directory to Netlify.</p>
<p>This is a good example of where a tool has made so much of their
stated value proposition about performance that they seem to have
forgotten to do the job correctly. It's the MongoDB of static website
generator software. And it's totally undebuggable of course; they give
you no tools except for ones that help you debug rendering performance
(which, I am forced to admit, are <a href="https://github.com/devopsdays/devopsdays-theme/issues/643">pretty
nice</a>). I
probably have some small template bug that's only triggering some
interleaved concurrent rendering path in Hugo when the moon is waxing
full, resulting in a file that contains only a single newline.</p>
<p>Of course I dug through their GitHub issues looking for anything
similar and their answers always start with asking you to upgrade to
the very latest version. Which would be fine except that every single
time I've updated Hugo they've broken backwards compatibility in their
templates. If I wanted that kind of pain I would just fix the damn bug
myself. And hey it's open source so isn't that the beauty of it? But
it's a static website renderer with acute featuritis, which is exactly
the sort of nerd snipe that's going to find me writing my own from
scratch. As one does.</p>

  

</section>
<section class="meta">
  <section class="blocks">
  

  <a class="block" href="https://github.com/tgross" title="Visit my GitHub">
    <span class="ss-social-circle ss-octocat"></span>
    <div>Collaborate.</div>
  </a>

  <a class="block" href="mailto:tim+blog@0x74696d.com" title="Email me">
    <span class="ss-social-circle ss-mail"></span>
    <div>Communicate.</div>
  </a>

  <a class="block" href="/index.xml" rel="alternate" type="application/rss+xml" title="0x74696d RSS">
    <span class="ss-social-circle ss-rss"></span>
    <div>RSS.</div>
  </a>
  </section>

  <div class="disclaimer">
    <p>&copy; Timothy Gross</p>
    <p>Except where otherwise noted, content on this site is licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Common Attribution 3.0 Unported License</a>. The code of this blog and all code content is licensed under the <a href="/LICENSE">MIT license</a>.</p>
  </div>
  <div style="clear: both"></div>

</section>

</body>
</html>
